<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plate Protein Content</title>

<style>
    body {
        margin: 0;
        padding: 20px;
        font-family: sans-serif;
    }
    
    .container {
        width: 600px;
        height: 350px;
        overflow-x: auto;
        overflow-y: hidden;
        position: relative;
        scroll-behavior: smooth;
        margin: 0 auto;
    }

    #g-plate-box {
        position: relative;
    }

    /* Animation styles for labels */
    .g-labels {
        opacity: 0;
        transform: translateY(20px) scale(0.9);
        transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .g-labels.visible {
        opacity: 1;
        transform: translateY(0) scale(1);
    }

    /* Animation styles for the main image */
    #g-plate-Artboard_2-img {
        transition: transform 0.3s ease-out, filter 0.3s ease-out;
    }

    /* Individual plate items - we'll animate these as they come into view */
    .plate-item {
        position: absolute;
        top: 0;
        height: 100%;
        opacity: 0;
        transform: scale(0.8);
        transition: opacity 0.6s ease, transform 0.6s ease;
        pointer-events: none;
    }

    .plate-item.visible {
        opacity: 1;
        transform: scale(1);
    }

    /* Optional: Add a subtle pulse effect when visible */
    .g-labels.visible p {
        animation: fadeIn 0.6s ease;
    }

    @keyframes fadeIn {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }

    /* Optional: Stagger the animation of text elements */
    .g-labels.visible .g-pstyle0 {
        animation: slideUp 0.5s ease;
    }

    .g-labels.visible .g-pstyle1 {
        animation: slideUp 0.5s ease 0.1s backwards;
    }

    @keyframes slideUp {
        0% {
            opacity: 0;
            transform: translateY(10px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .label {
        margin-top: 10px;
        font-size: 16px;
        text-align: center;
    }

/* Blinking arrow for label */
.label-arrow {
    display: inline-block;
    width: 0;
    height: 0;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
    border-left: 10px solid #666;
    animation: blink 1.5s ease-in-out infinite;
}

@keyframes blink {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.3;
    }
}

/* Hide label when scrolled */
.label.hidden {
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}
</style>

<!-- ai2html styles -->
<style media="screen,print">
	#g-plate-box ,
	#g-plate-box .g-artboard {
		margin:0;
	}
	#g-plate-box p {
		margin:0;
	}
	#g-plate-box .g-aiAbs {
		position:absolute;
	}
	#g-plate-box .g-aiImg {
		position:absolute;
		top:0;
		display:block;
		width:100% !important;
	}
	#g-plate-box .g-aiSymbol {
		position: absolute;
		box-sizing: border-box;
	}
	#g-plate-box .g-aiPointText p { white-space: nowrap; }
	#g-plate-Artboard_2 {
		position:relative;
		overflow:visible;
		width: 1850px;
        height: 350px;
	}
	#g-plate-Artboard_2 p {
		font-family:effra, sans-serif;
		font-weight:regular;
		font-style:normal;
		line-height:18px;
		height:auto;
		opacity:1;
		letter-spacing:0em;
		font-size:18px;
		text-align:left;
		color:rgb(0,0,0);
		text-transform:none;
		padding-bottom:0;
		padding-top:0;
		mix-blend-mode:normal;
		position:static;
	}
	#g-plate-Artboard_2 .g-pstyle0 {
		font-weight:700;
		height:18px;
		text-align:center;
	}
	#g-plate-Artboard_2 .g-pstyle1 {
		font-weight:400;
		height:18px;
		font-size:14px;
		text-align:center;
	}

	@font-face {
		font-family:"effra";
		src:url("https://use.typekit.net/af/bc093c/00000000000000007735fd41/30/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3") format("woff2"),url("https://use.typekit.net/af/bc093c/00000000000000007735fd41/30/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3") format("woff"),url("https://use.typekit.net/af/bc093c/00000000000000007735fd41/30/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3") format("opentype");
		font-display:auto;font-style:normal;font-weight:400;font-stretch:normal;
	}

	@font-face {
		font-family:"effra";
		src:url("https://use.typekit.net/af/c0864f/00000000000000007735fd3d/30/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3") format("woff2"),url("https://use.typekit.net/af/c0864f/00000000000000007735fd3d/30/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3") format("woff"),url("https://use.typekit.net/af/c0864f/00000000000000007735fd3d/30/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3") format("opentype");
		font-display:auto;font-style:normal;font-weight:700;font-stretch:normal;
	}
</style>

</head>
<body>

<div class="container" id="container">
    <div id="g-plate-box" class="ai2html">
        <!-- Artboard: Artboard_2 -->
        <div id="g-plate-Artboard_2" class="g-artboard" data-aspect-ratio="5.934" data-min-width="0">
            <img id="g-plate-Artboard_2-img" class="g-plate-Artboard_2-img g-aiImg" alt="" src="plate-Artboard_2.jpg"/>
            
            <!-- Animated plate item overlays -->
            <div id="plate-item-0" class="plate-item" style="left: 0%; width: 20%;"></div>
            <div id="plate-item-1" class="plate-item" style="left: 24%; width: 16%;"></div>
            <div id="plate-item-2" class="plate-item" style="left: 40%; width: 14%;"></div>
            <div id="plate-item-3" class="plate-item" style="left: 50%; width: 20%;"></div>
            <div id="plate-item-4" class="plate-item" style="left: 68%; width: 14%;"></div>
            <div id="plate-item-5" class="plate-item" style="left: 84%; width: 16%;"></div>
            
            <div id="g-ai0-1" class="g-labels g-aiAbs g-aiPointText" style="top:88.0868%;margin-top:-21.3px;left:13.2605%;margin-left:-69px;width:138px;">
                <p class="g-pstyle0">3 oz of chicken</p>
                <p class="g-pstyle1">19 g</p>
            </div>
            <div id="g-ai0-2" class="g-labels g-aiAbs g-aiPointText" style="top:88.0868%;margin-top:-21.3px;left:33.6582%;margin-left:-70.5px;width:141px;">
                <p class="g-pstyle0">1/2 cup of oats</p>
                <p class="g-pstyle1">6 g</p>
            </div>
            <div id="g-ai0-3" class="g-labels g-aiAbs g-aiPointText" style="top:88.0868%;margin-top:-21.3px;left:47.2814%;margin-left:-77.5px;width:155px;">
                <p class="g-pstyle0">1/2 cup of lentils</p>
                <p class="g-pstyle1">8 g</p>
            </div>
            <div id="g-ai0-4" class="g-labels g-aiAbs g-aiPointText" style="top:88.0868%;margin-top:-21.3px;left:60.3871%;margin-left:-113.5px;width:227px;">
                <p class="g-pstyle0">1/2 cup of cottage cheese</p>
                <p class="g-pstyle1">14 g</p>
            </div>
            <div id="g-ai0-5" class="g-labels g-aiAbs g-aiPointText" style="top:88.0868%;margin-top:-21.3px;left:74.4114%;margin-left:-71px;width:142px;">
                <p class="g-pstyle0">3/4 cup of Skyr</p>
                <p class="g-pstyle1">17 g</p>
            </div>
            <div id="g-ai0-6" class="g-labels g-aiAbs g-aiPointText" style="top:88.0868%;margin-top:-21.3px;left:90.4731%;margin-left:-64.5px;width:129px;">
                <p class="g-pstyle0">2.6 oz of tuna</p>
                <p class="g-pstyle1">15 g</p>
            </div>
        </div>
    </div>
</div>

<div class="label">
    Scroll to see protein content per plate item 
    <span class="label-arrow"></span>
</div>
<script>
    const items = [
        { left: 13.2605, element: 'g-ai0-1', plateItem: 'plate-item-0' },
        { left: 33.6582, element: 'g-ai0-2', plateItem: 'plate-item-1' },
        { left: 47.2814, element: 'g-ai0-3', plateItem: 'plate-item-2' },
        { left: 60.3871, element: 'g-ai0-4', plateItem: 'plate-item-3' },
        { left: 74.4114, element: 'g-ai0-5', plateItem: 'plate-item-4' },
        { left: 90.4731, element: 'g-ai0-6', plateItem: 'plate-item-5' }
    ];

    const container = document.getElementById('container');
    const artboardWidth = 1850;

    // Check which labels and plate items should be visible based on viewport
    function updateVisibility() {
        const scrollLeft = container.scrollLeft;
        const viewportLeft = scrollLeft;
        const viewportRight = scrollLeft + container.offsetWidth;
        
        // Add some margin for early trigger (items appear slightly before center)
        const triggerMargin = 100;

        items.forEach((item, index) => {
            const label = document.getElementById(item.element);
            const plateItem = document.getElementById(item.plateItem);
            const itemCenterPx = (item.left / 100) * artboardWidth;
            
            // Check if item is in viewport with margin
            const isInViewport = itemCenterPx >= (viewportLeft - triggerMargin) && 
                               itemCenterPx <= (viewportRight + triggerMargin);
            
            if (isInViewport) {
                // Stagger the plate item animation slightly before the label
                setTimeout(() => {
                    plateItem.classList.add('visible');
                }, index * 50); // Slight stagger between items
                
                setTimeout(() => {
                    label.classList.add('visible');
                }, 100 + (index * 50)); // Label appears after plate item
            } else {
                // Optional: Remove class to re-animate when scrolling back
                label.classList.remove('visible');
                plateItem.classList.remove('visible');
            }
        });
    }

    // Listen for scroll events with throttling for better performance
    let scrollTimeout;
    container.addEventListener('scroll', () => {
        if (scrollTimeout) {
            clearTimeout(scrollTimeout);
        }
        scrollTimeout = setTimeout(updateVisibility, 10);
    });

    // Initialize on load
    window.addEventListener('load', () => {
        updateVisibility();
    });
</script>
</body>
</html>